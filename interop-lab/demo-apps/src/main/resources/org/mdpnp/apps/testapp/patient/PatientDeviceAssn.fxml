<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.image.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.layout.GridPane?>

<BorderPane prefHeight="480.0" prefWidth="800.0" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/2.2" fx:controller="org.mdpnp.apps.testapp.patient.PatientInfoController">
  <bottom>
    <GridPane>
      <children>
        <Label text="MRN" textAlignment="RIGHT" GridPane.columnIndex="1" GridPane.rowIndex="1" />
        <TextField fx:id="newPatientMRN" prefColumnCount="8" text="" GridPane.columnIndex="1" GridPane.rowIndex="2" />
        <Label text="First Name" textAlignment="RIGHT" GridPane.columnIndex="2" GridPane.rowIndex="1" />
        <TextField fx:id="newPatientFirstName" prefColumnCount="15" text="" GridPane.columnIndex="2" GridPane.rowIndex="2" />
        <Label text="Last Name" textAlignment="RIGHT" GridPane.columnIndex="3" GridPane.rowIndex="1" />
        <TextField fx:id="newPatientLastName" prefColumnCount="15" text="" GridPane.columnIndex="3" GridPane.rowIndex="2" />
        <Label text="Gender" textAlignment="RIGHT" GridPane.columnIndex="4" GridPane.rowIndex="1" />
        <ComboBox fx:id="newPatientGender" GridPane.columnIndex="4" GridPane.rowIndex="2" />
        <Label text="DOB" textAlignment="RIGHT" GridPane.columnIndex="5" GridPane.rowIndex="1" />
        <DatePicker fx:id="newPatientDOB" GridPane.columnIndex="5" GridPane.rowIndex="2" />
        <Button fx:id="createNewPatient" GridPane.columnIndex="6" GridPane.rowIndex="2">
          <graphic>
            <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true" visible="true">
              <image>
                <Image url="@/org/mdpnp/apps/testapp/patient/add.png" />
              </image>
            </ImageView>
          </graphic>
          <tooltip>
            <Tooltip text="Create new MRN entry" />
          </tooltip>
        </Button>
      </children>
    </GridPane>
  </bottom>
  <center>
    <GridPane prefHeight="190.0" BorderPane.alignment="CENTER">
      <children>
        <TableView fx:id="patientView" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.rowSpan="3">
          <columns>
            <TableColumn maxWidth="5000.0" minWidth="10.0" prefWidth="150.0" text="MRN">
              <cellValueFactory>
                <PropertyValueFactory property="mrn" />
              </cellValueFactory>
            </TableColumn>
            <TableColumn maxWidth="5000.0" minWidth="10.0" prefWidth="150.0" text="First Name">
              <cellValueFactory>
                <PropertyValueFactory property="firstName" />
              </cellValueFactory>
            </TableColumn>
            <TableColumn maxWidth="150.0" minWidth="10.0" prefWidth="150.0" text="Last Name">
              <cellValueFactory>
                <PropertyValueFactory property="lastName" />
              </cellValueFactory>
            </TableColumn>
          </columns>
        </TableView>
        <TableView fx:id="deviceView" GridPane.columnIndex="3" GridPane.rowIndex="1" GridPane.rowSpan="3">
          <columns>
            <TableColumn maxWidth="500.0" minWidth="40.0" prefWidth="150.0" text="Device">
              <cellValueFactory>
                <PropertyValueFactory property="makeAndModel" />
              </cellValueFactory>
            </TableColumn>
            <TableColumn maxWidth="500.0" minWidth="40.0" prefWidth="150.0" text="HostName">
              <cellValueFactory>
                <PropertyValueFactory property="hostname" />
              </cellValueFactory>
            </TableColumn>
          </columns>
        </TableView>
        <Button fx:id="connectBtn" GridPane.columnIndex="2" GridPane.rowIndex="2">
          <graphic>
            <ImageView fitHeight="0.0" fitWidth="50.0" pickOnBounds="true" preserveRatio="true" visible="true">
              <image>
                <Image url="@/org/mdpnp/apps/testapp/patient/connect.png" />
              </image>
            </ImageView>
          </graphic>
          <tooltip>
            <Tooltip text="Assign device to patient" />
          </tooltip>
        </Button>
      </children>
      <columnConstraints>
        <ColumnConstraints maxWidth="0.0" prefWidth="0.0" />
        <ColumnConstraints maxWidth="451.0" prefWidth="428.0" />
        <ColumnConstraints hgrow="SOMETIMES" maxWidth="125.0" minWidth="10.0" prefWidth="73.0" halignment="CENTER"/>
        <ColumnConstraints maxWidth="299.0" prefWidth="299.0" />
        <ColumnConstraints maxWidth="0.0" prefWidth="0.0" />
      </columnConstraints>
      <rowConstraints>
        <RowConstraints maxHeight="50.0" minHeight="0.0" prefHeight="11.0" />
        <RowConstraints maxHeight="60.0" minHeight="10.0" prefHeight="49.0" />
        <RowConstraints maxHeight="50.0" minHeight="50.0" prefHeight="50.0" />
        <RowConstraints maxHeight="79.0" prefHeight="79.0" />
      </rowConstraints>
    </GridPane>
  </center>
  <top>
    <TableView fx:id="associationTableView" minHeight="100.0" prefHeight="250.0">
      <columns>
        <TableColumn maxWidth="5000.0" minWidth="10.0" prefWidth="200.0" text="DeviceId">
          <cellValueFactory>
            <PropertyValueFactory property="deviceName" />
          </cellValueFactory>
        </TableColumn>
        <TableColumn maxWidth="5000.0" minWidth="10.0" prefWidth="150.0" text="MRN">
          <cellValueFactory>
            <PropertyValueFactory property="mrn" />
          </cellValueFactory>
        </TableColumn>
        <TableColumn maxWidth="5000.0" minWidth="10.0" prefWidth="150.0" text="First Name">
          <cellValueFactory>
            <PropertyValueFactory property="firstName" />
          </cellValueFactory>
        </TableColumn>
        <TableColumn maxWidth="150.0" minWidth="10.0" prefWidth="150.0" text="Last Name">
          <cellValueFactory>
            <PropertyValueFactory property="lastName" />
          </cellValueFactory>
        </TableColumn>
        <TableColumn maxWidth="150.0" minWidth="10.0" prefWidth="50.0" sortable="false" text="Disconnect" fx:id="associationTableActionColumn">
          <cellValueFactory>
            <PropertyValueFactory property="deviceIdentifier" />
          </cellValueFactory>
        </TableColumn>
      </columns>
    </TableView>
  </top>
</BorderPane>
